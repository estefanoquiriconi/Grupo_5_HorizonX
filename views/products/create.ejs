<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create</title>
    <link rel="stylesheet" href="/css/create.css" />
    <link rel="stylesheet" href="/css/styles.css" />
  </head>

  <body>
    <%- include('../partials/header.ejs') %>
    <div class="form-container">
      <form
        action="/products/create"
        method="POST"
        enctype="multipart/form-data"
      >
        <h3>Crear Producto</h3>
        <hr />
        <div class="primera-linea">
          <div class="primer-div">
            <label for="name">Nombre:</label>
            <input type="text" id="name" name="name" class="input-field"
            value="<%= locals.oldData && oldData.name ? oldData.name : null %>" />
            <% if (locals.errors && errors.name) { %>
            <p class="error"><%= errors.name.msg %></p>
            <% } %>
          </div>
          <div class="primer-div">
            <label for="brand">Marca:</label>
            <input type="text" id="brand" name="brand" class="input-field" value="<%= locals.oldData && oldData.brand ? oldData.brand : null %>" />
            <% if (locals.errors && errors.brand) { %>
              <p class="error"><%= errors.brand.msg %></p>
              <% } %>
          </div>
        </div>

        <div class="primera-linea">
          <div class="primer-div">
            <label for="color">Color:</label>
            <input type="text" id="color" name="color" class="input-field" value="<%= locals.oldData && oldData.color ? oldData.color : null %>" />
            <% if (locals.errors && errors.color) { %>
              <p class="error"><%= errors.color.msg %></p>
              <% } %>
          </div>

          <div class="primer-div">
            <label for="price">Precio:</label>
            <input type="number" id="price" name="price" class="input-field" value="<%= locals.oldData && oldData.price ? oldData.price : null %>"  />
            <% if (locals.errors && errors.price) { %>
              <p class="error"><%= errors.price.msg %></p>
              <% } %>
          </div>
        </div>

        <label for="category">Caregoría:</label>
        <select name="category" id="category" class="input-field">
          <option value="" selected disabled>Selecciona una categoría</option>
          <option value="celular" <%= locals.oldData && oldData.category == 'celular' ? 'selected' : null %> >Celular</option>
          <option value="accesorio" <%= locals.oldData && oldData.category == 'accesorio' ? 'selected' : null %> >Accesorio</option>
        </select>
        <% if (locals.errors && errors.category) { %>
          <p class="error"><%= errors.category.msg %></p>
          <% } %>

        <label for="description">Descripción:</label>
        <textarea
          id="description"
          name="description"
          class="input-field"
          rows="4"
        ><%= locals.oldData && oldData.description ? oldData.description : null %></textarea>
        <% if (locals.errors && errors.description) { %>
          <p class="error"><%= errors.description.msg %></p>
          <% } %>

        <label for="image">Imagen:</label>
        <input
          class="insert-img"
          type="file"
          id="image"
          name="image"
          alt="Imagen del producto"
        />
        <div class="button-ubicacion">
          <button type="submit">Crear</button>
        </div>
      </form>

      <a href="/products" class="button-ubicacion">
        <button type="submit">Volver</button>
      </a>
    </div>

    <%- include('../partials/footer.ejs') %>
  </body>
</html>
